<!DOCTYPE html>
<html lang="ko">
<head>
    <script>
        // 세션 스토리지에서 'hasWaited' 플래그를 확인합니다.
        if (!sessionStorage.getItem('hasWaited')) {
            // 플래그가 없으면 waiting.html로 리디렉션합니다.
            window.location.href = '/waiting.html';
        }
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DPFL</title>
    <link rel="icon" href="logo.png" type="image/png">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <nav class="top-nav">
            <div class="nav-container">
                <a href="index.html" class="logo"><img src="logo.png" alt="DPFL Logo"></a>
                <button class="hamburger-menu" aria-label="Open navigation menu">&#9776;</button>
                <ul class="nav-links" id="nav-links"></ul>
            </div>
        </nav>
    </header>

    <main>
        <section class="hero">
            <div class="hero-content">
                <img src="logo.png" alt="DPFL Logo" class="hero-logo">
                <h2>DongPyeong Futsal League</h2>
                <div class="hero-buttons">
                    <a href="register_player.html" class="btn">선수 등록하기</a>
                    <a href="register_team.html" class="btn">팀 등록하기</a>
                </div>
            </div>
            <div class="scroll-indicator">
                <span></span>
            </div>
        </section>

        

        </section>

        <div class="container" id="main-content-container">
            <div class="content-tabs">
                <button class="tab-btn active" data-target="recent-matches-content">최근 경기</button>
                <button class="tab-btn" data-target="team-ranking-content">팀 순위</button>
                <button class="tab-btn" data-target="player-ranking-content">개인 순위</button>
                <button class="tab-btn" data-target="schedule-content">경기 일정</button>
                <button class="tab-btn" data-target="all-players-content">전체 선수</button>
            </div>

            <div id="content-sections">
                <section id="recent-matches-content" class="content-section active">
                    <h2>최근 경기 결과</h2>
                    <div id="recent-matches-container" class="recent-matches-container">
                        <!-- Match cards will be populated here -->
                    </div>
                </section>

                <section id="team-ranking-content" class="content-section">
                    <h2>현재 팀 순위</h2>
                    <table class="ranking-table">
                        <thead>
                            <tr>
                                <th>순위</th>
                                <th></th>
                                <th>팀</th>
                                <th>경기수</th>
                                <th>승점</th>
                                <th>승</th>
                                <th>무</th>
                                <th>패</th>
                                <th>득점</th>
                                <th>실점</th>
                                <th>득실</th>
                            </tr>
                        </thead>
                        <tbody id="ranking-body">
                            <!-- 팀 순위가 여기 동적으로 표시됨 -->
                        </tbody>
                    </table>
                </section>

                <section id="player-ranking-content" class="content-section">
                    <h2>개인 득점 순위</h2>
                    <table class="ranking-table">
                        <thead>
                            <tr>
                                <th>순위</th>
                                <th>선수</th>
                                <th>소속팀</th>
                                <th>득점</th>
                            </tr>
                        </thead>
                        <tbody id="player-ranking-body">
                            <!-- Player goal ranking data will be populated here -->
                        </tbody>
                    </table>
                    <h2 style="margin-top: 2rem;">개인 도움 순위</h2>
                    <table class="ranking-table">
                        <thead>
                            <tr>
                                <th>순위</th>
                                <th>선수</th>
                                <th>소속팀</th>
                                <th>도움</th>
                            </tr>
                        </thead>
                        <tbody id="assist-ranking-body">
                            <!-- Player assist ranking data will be populated here -->
                        </tbody>
                    </table>
                </section>

                <section id="schedule-content" class="content-section">
                    <h2>경기 일정</h2>
                    <div id="schedule-container">
                        <!-- Schedule will be populated here -->
                    </div>
                </section>

                <section id="all-players-content" class="content-section">
                    <h2>전체 선수</h2>
                    <div id="all-players-list" class="management-grid">
                        <!-- Player list will be populated here by JavaScript -->
                    </div>
                    <div id="pagination-container" class="pagination"></div>
                </section>
            </div>
        </div>
    </main>

    <footer class="footer">
        <p>&copy; 2025 DPS Team. All rights reserved.</p>
        <p>DPS는 Don't Play Solo의 약자입니다.</p>
        <p><a href="admin.html" class="admin-link">관리자 페이지</a></p>
    </footer>

    <div class="custom-alert-overlay" id="customAlert">
        <div class="custom-alert-popup">
            <p id="customAlertMessage"></p>
            <div class="custom-alert-buttons">
                <button id="customAlertCancel" class="btn btn-secondary">취소</button>
                <button id="customAlertConfirm" class="btn">확인</button>
            </div>
        </div>
    </div>
    <script type="module" src="js/main.js"></script>
</body>
</html>